webpackJsonp([2],[/*!***************************************!*\
  !*** ./app/simplesearch/src/main.tsx ***!
  \***************************************/
function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(/*! react */1),o=n(/*! react-dom */1),s=n(/*! myproj-lib */5),u=n(/*! ./table */7),a=(function(){function e(){}return e}(),function(e){function t(t){e.call(this,t)}return r(t,e),t.prototype.render=function(){for(var e=[],t=0;t<1e5;t++)e.push({fuzzy:"hello "+t,num:t});return i.createElement(u.SearchableDataTable,{initDocs:e})},t}(i.Component));o.render(i.createElement(a,null),document.getElementById("content")),s.test_lib_working()},,,,,/*!*********************!*\
  !*** ./src/lib.tsx ***!
  \*********************/
function(e,t,n){"use strict";function r(e,t,n){function r(){return(new Date).getTime()}function i(){var c=r()-a;c<t&&c>0?o=setTimeout(i,t-c):(o=null,n||(l=e.apply(u,s),o||(u=s=null)))}var o,s,u,a,l;return null==t&&(t=100),function(){u=this,s=arguments,a=r();var c=n&&!o;return o||(o=setTimeout(i,t)),c&&(l=e.apply(u,s),u=s=null),l}}function i(e,t){var n="is_loaded",r={};if(void 0!==e[n])throw"Cant use `is_loaded` as key in state for ensureValidKeys";for(var i=0,o=t;i<o.length;i++){var s=o[i];if(!e[s])return{is_loaded:!1};r[s]=e[s]}return r.is_loaded=!0,r}function o(e,t){for(var n={},r=0,i=[e,t];r<i.length;r++)for(var o=i[r],s=0,u=o;s<u.length;s++){var a=u[s];n[a]=o[a]}return n}function s(){console.log("Lib is working!")}var u=n(/*! ./dispatch */6);t.global_dispatcher=u.global_dispatcher,t.debounce=r,t.ensureValidKeys=i,t.mapMerge=o,t.test_lib_working=s},/*!*************************!*\
  !*** ./src/dispatch.ts ***!
  \*************************/
function(e,t){"use strict";function n(e,t,n,r,i,o){for(var s=t.split("."),u=n.split("."),a=r,l=[],c=null,h=0;h<u.length;h++){var f=s[h],p=u[h];if(void 0==f)if("*"==p){var v=l.join(".");for(var g in a){var d=v+"."+g;console.log("new event: "+d),e.notify(d,a[g])}}else{if(void 0==a[p])return!1;a=a[p],c=p,l.push(p)}else{if("*"!=p&&p!=f)return!1;c=f,l.push(f)}}if(null!=c){var m={};m[c]=a,a=m}return i(a,l.join("."))}var r=function(){function e(){this.listeners=[],this.event_queue=[],this.is_dispatching=!1,this.is_capturing_local_storage_events=!1,this.function_name="setState",this.is_dispatching=!1}return e.prototype.listen=function(e,t,n){this.listeners.push([e,function(){t.setState(arguments[0])},n])},e.prototype.listen_fn=function(e,t,n){this.listeners.push([e,t,n])},e.prototype.notify=function(e,t){if(e.indexOf("*")>-1)throw"You can't notify with a *; use flush or broadcast.";this.event_queue.push([e,t]),this.is_dispatching||this.flush_queue()},e.prototype.broadcast=function(e){for(var t=0,n=this.listeners;t<n.length;t++){var r=n[t],i=r[1];i(e,"_")}},e.prototype.flush=function(e,t){for(var n=0,r=this.listeners;n<r.length;n++){var i=r[n],o=i[1],s=i[0];s.substring(0,e.length)==e&&o(t,"-")}},e.prototype.flush_queue=function(){this.is_dispatching=!0;var e=this.event_queue;for(this.event_queue=[];e.length;){var t=e.slice(0,1)[0];e=e.slice(1),this.dispatch_event(t[0],t[1])}if(this.event_queue.length>0){var n=this;setTimeout(function(){n.flush_queue()},5)}else this.is_dispatching=!1},e.prototype.dispatch_event=function(e,t){for(var r=[],i=0,o=this.listeners;i<o.length;i++){var s=o[i],u=s[0],a=s[1],l=s[2];try{n(this,e,u,t,a,l),r.push(s)}catch(e){console.log("Dropping handler for `"+s[0]+"` on `"+typeof s[1].constructor+"` because of exception: "+e)}}this.listeners=r},e.prototype.capture_local_storage_changes=function(){var e=this;if(this.is_capturing_local_storage_events){var t=localStorage.setItem;localStorage.setItem=function(){t.apply(this,arguments),e.notify(arguments[0],arguments[1])},this.is_capturing_local_storage_events=!0}else console.log("successive calls to capture_local_storage_changes are ignored.")},e}();t.Dispatcher=r;var i=new r;t.global_dispatcher=i},/*!****************************************!*\
  !*** ./app/simplesearch/src/table.tsx ***!
  \****************************************/
function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(/*! react */1),o=n(/*! ./text_to_filter_fun */8),s=n(/*! myproj-lib */5),u=(function(){function e(){}return e}(),function(){function e(){}return e}(),function(e){function t(t){e.call(this,t),this.state={query_value:"",items:this.props.initDocs,filterFn:function(){return!0}},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleChange=s.debounce(this.handleChange,100)}return r(t,e),t.prototype.handleChange=function(e){var t={query_value:e.target.value,filterFn:o.build_fn(e.target.value)};this.setState(s.mapMerge(this.state,t))},t.prototype.handleSubmit=function(e){e.preventDefault()},t.prototype.getVisibleItems=function(){return this.state.items.filter(this.state.filterFn).slice(0,100)},t.prototype.renderRow=function(e){return i.createElement("tr",null,i.createElement("td",null,"Hello ",e.num))},t.prototype.render=function(){var e=this.getVisibleItems().map(this.renderRow);return i.createElement("div",null,i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("label",null,"Search"),i.createElement("input",{type:"text",value:this.state.query_value,onChange:this.handleChange}),i.createElement("input",{type:"submit",value:"Submit"}),i.createElement("div",null,e.length," of ",this.state.items.length," items.")),i.createElement("table",null,e))},t}(i.Component));t.SearchableDataTable=u},/*!****************************************************!*\
  !*** ./app/simplesearch/src/text_to_filter_fun.ts ***!
  \****************************************************/
function(e,t){"use strict";var n;!function(e){e[e.Include=0]="Include",e[e.Exclude=1]="Exclude"}(n||(n={}));var r;!function(e){e[e.Exists=0]="Exists",e[e.Equal=1]="Equal",e[e.NotEqual=2]="NotEqual",e[e.LessThan=3]="LessThan",e[e.GreaterThan=4]="GreaterThan",e[e.ArgValueInItemSeq=5]="ArgValueInItemSeq",e[e.ItemValueInArgSeq=6]="ItemValueInArgSeq",e[e.Fuzzy=7]="Fuzzy",e[e.ComposeOR=8]="ComposeOR",e[e.ComposeAND=9]="ComposeAND",e[e.ComposeNOT=10]="ComposeNOT"}(r||(r={}));var i={"=":r.Equal,"!":r.NotEqual,">":r.GreaterThan,"<":r.LessThan,"~":r.Fuzzy,"?":r.Exists,$:r.ArgValueInItemSeq},o={};o[r.Equal]=function(e,t){return e==t},o[r.NotEqual]=function(e,t){return e!=t},o[r.LessThan]=function(e,t){return e<t},o[r.GreaterThan]=function(e,t){return e>t},o[r.Exists]=function(e,t){return void 0!==e},o[r.ArgValueInItemSeq]=function(e,t){return e.indexOf(t)!=-1},o[r.ItemValueInArgSeq]=function(e,t){return t.indexOf(e)==-1},o[r.Fuzzy]=function(e,t){var n=typeof e;return 0!=t.length&&(void 0!=n&&("string"==n?e.search(t)!=-1:"number"==n&&(""+e).search(t)!=-1))},o[r.ComposeOR]=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n],s=i[0],u=i[1];if(o[s].apply(this,[e,u]))return!0}return!1},o[r.ComposeAND]=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n],s=i[0],u=i[1];if(0==o[s].apply(this,[e,u]))return!1}return!0};var s=function(e){for(var t=" ",n={'"':'"',"'":"'","(":")","[":"]","`":"`"},r=[],i=[],o=!1,s=null,u=0;u<e.length;u++){var a=e[u];o?a==n[s]?(i.push(a),o=!1,s=null):i.push(a):t.indexOf(a)!=-1?(r.push(i.join("")),i=[]):void 0!=n[a]?(o=!0,s=a,i.push(a)):i.push(a)}return i.length&&r.push(i.join("")),r},u=function(e){return e.search(":")!=-1&&"`"!=e[0]},a=function(e){var t=r.Equal,n=function(e,t){return e.slice(0,t.length)==t};for(var o in i)n(e,o)&&(t=i[o],e=e.slice(o.length));return isNaN(+e)||(e=+e),"t"==e||"true"==e?e=!0:"f"!=e&&"false"!=e||(e=!1),[t,e]},l=function(e){for(var t=[],i=0,s=e;i<s.length;i++){var u=s[i],a=function(e){return function(t){var i=e[0],s=e[1],u=e[2],a=e[3],l=!1;try{var c=u.split("."),h=t;if(1==c.length)h=h[u];else for(var f=0,p=c;f<p.length;f++){var v=p[f];if(void 0==h[v])return!1;h=h[v]}l="function"==typeof h?s==r.Exists||h.apply(t,[a]):"undefined"!=typeof h&&o[s](h,a)}catch(e){console.log("Exception in cond: ",o[s])}return i==n.Include?l:i==n.Exclude?!l:(console.log("UNKNOWN SEARCH TYPE:",i),l)}}(u);t.push(a)}return function(e,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];if(0==s(e))return!1}return!0}},c=function(e,t){void 0==t&&(t={});for(var i=t.fuzzy_key||"fuzzy",o=t.macros||{},c=[],h=s(e),f=0,p=h;f<p.length;f++){var v=p[f];if(u(v)){var g=n.Include,d=v[0];"-"==d||"\\"==d?(g=n.Exclude,v=v.slice(1)):"/"!=d&&"+"!=d||(g=n.Include,v=v.slice(1));for(var m=v.split(":"),_=m[0],y=0,b=m.slice(1);y<b.length;y++){var E=b[y];if(E.length>0)if(void 0!=o[_]&&(N=o[_](_,E),_=N[0],E=N[1]),E.search(",")==-1){var q=a(E),I=q[0],C=q[1];c.push([g,I,_,C])}else{var S=r.ComposeOR;"&"==E[0]?(S=r.ComposeAND,E=E.slice(1)):"|"==E[0]&&(S=r.ComposeOR,E=E.slice(1));for(var x=[],T=0,w=E.split(",");T<w.length;T++){var z=w[T],O=a(z),I=O[0],C=O[1];x.push([I,C])}c.push([g,S,_,x])}}}else c.push([n.Include,r.Fuzzy,i,v])}return l(c);var N};t.build_fn=c}]);
//# sourceMappingURL=simplesearch.bundle.js.map