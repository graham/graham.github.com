webpackJsonp([2],[/*!***************************************!*\
  !*** ./app/simplesearch/src/main.tsx ***!
  \***************************************/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(/*! react */1),o=n(/*! react-dom */1),s=n(/*! myproj-lib */5),u=n(/*! ./table */8),a=(function(){function t(){}return t}(),function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.render=function(){for(var t=[],e=0;e<100;e++)t.push({fuzzy:"hello "+e,num:e});return i.createElement(u.SearchableDataTable,{initDocs:t})},e}(i.Component));o.render(i.createElement(a,null),document.getElementById("content")),s.test_lib_working()},,,,,/*!*********************!*\
  !*** ./src/lib.tsx ***!
  \*********************/
function(t,e,n){"use strict";function r(t,e){var n="is_loaded",r={};if(void 0!==t[n])throw"Cant use `is_loaded` as key in state for ensureValidKeys";for(var i=0,o=e;i<o.length;i++){var s=o[i];if(!t[s])return{is_loaded:!1};r[s]=t[s]}return r.is_loaded=!0,r}function i(){console.log("Lib is working!")}var o=n(/*! ./dispatch */6);e.global_dispatcher=o.global_dispatcher,e.ensureValidKeys=r,e.test_lib_working=i},/*!*************************!*\
  !*** ./src/dispatch.ts ***!
  \*************************/
function(t,e){"use strict";function n(t,e,n,r,i,o){for(var s=e.split("."),u=n.split("."),a=r,l=[],c=null,h=0;h<u.length;h++){var f=s[h],p=u[h];if(void 0==f)if("*"==p){var v=l.join(".");for(var d in a){var g=v+"."+d;console.log("new event: "+g),t.notify(g,a[d])}}else{if(void 0==a[p])return!1;a=a[p],c=p,l.push(p)}else{if("*"!=p&&p!=f)return!1;c=f,l.push(f)}}if(null!=c){var _={};_[c]=a,a=_}return i(a,l.join("."))}var r=function(){function t(){this.listeners=[],this.event_queue=[],this.is_dispatching=!1,this.is_capturing_local_storage_events=!1,this.function_name="setState",this.is_dispatching=!1}return t.prototype.listen=function(t,e,n){this.listeners.push([t,function(){e.setState(arguments[0])},n])},t.prototype.listen_fn=function(t,e,n){this.listeners.push([t,e,n])},t.prototype.notify=function(t,e){if(t.indexOf("*")>-1)throw"You can't notify with a *; use flush or broadcast.";this.event_queue.push([t,e]),this.is_dispatching||this.flush_queue()},t.prototype.broadcast=function(t){for(var e=0,n=this.listeners;e<n.length;e++){var r=n[e],i=r[1];i(t,"_")}},t.prototype.flush=function(t,e){for(var n=0,r=this.listeners;n<r.length;n++){var i=r[n],o=i[1],s=i[0];s.substring(0,t.length)==t&&o(e,"-")}},t.prototype.flush_queue=function(){this.is_dispatching=!0;var t=this.event_queue;for(this.event_queue=[];t.length;){var e=t.slice(0,1)[0];t=t.slice(1),this.dispatch_event(e[0],e[1])}if(this.event_queue.length>0){var n=this;setTimeout(function(){n.flush_queue()},5)}else this.is_dispatching=!1},t.prototype.dispatch_event=function(t,e){for(var r=[],i=0,o=this.listeners;i<o.length;i++){var s=o[i],u=s[0],a=s[1],l=s[2];try{n(this,t,u,e,a,l),r.push(s)}catch(t){console.log("Dropping handler for `"+s[0]+"` on `"+typeof s[1].constructor+"` because of exception: "+t)}}this.listeners=r},t.prototype.capture_local_storage_changes=function(){var t=this;if(this.is_capturing_local_storage_events){var e=localStorage.setItem;localStorage.setItem=function(){e.apply(this,arguments),t.notify(arguments[0],arguments[1])},this.is_capturing_local_storage_events=!0}else console.log("successive calls to capture_local_storage_changes are ignored.")},t}();e.Dispatcher=r;var i=new r;e.global_dispatcher=i},,/*!****************************************!*\
  !*** ./app/simplesearch/src/table.tsx ***!
  \****************************************/
function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=n(/*! react */1),o=n(/*! ./text_to_filter_fun */9),s=(function(){function t(){}return t}(),function(){function t(){}return t}(),function(t){function e(e){t.call(this,e),this.state={query_value:"",items:this.props.initDocs,filterFn:function(){return!0}},this.handleChange=this.handleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}return r(e,t),e.prototype.handleChange=function(t){this.setState({query_value:t.target.value,items:this.state.items,filterFn:o.build_fn(t.target.value)})},e.prototype.handleSubmit=function(t){t.preventDefault()},e.prototype.getVisibleItems=function(){return this.state.items.filter(this.state.filterFn)},e.prototype.renderRow=function(t){return i.createElement("tr",null,i.createElement("td",null,"Hello ",t.num))},e.prototype.render=function(){return i.createElement("div",null,i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("label",null,"Search",i.createElement("input",{type:"text",value:this.state.query_value,onChange:this.handleChange})),i.createElement("input",{type:"submit",value:"Submit"})),i.createElement("table",null,this.getVisibleItems().map(this.renderRow)))},e}(i.Component));e.SearchableDataTable=s},/*!****************************************************!*\
  !*** ./app/simplesearch/src/text_to_filter_fun.ts ***!
  \****************************************************/
function(t,e){"use strict";var n;!function(t){t[t.Include=0]="Include",t[t.Exclude=1]="Exclude"}(n||(n={}));var r;!function(t){t[t.Exists=0]="Exists",t[t.Equal=1]="Equal",t[t.NotEqual=2]="NotEqual",t[t.LessThan=3]="LessThan",t[t.GreaterThan=4]="GreaterThan",t[t.ArgValueInItemSeq=5]="ArgValueInItemSeq",t[t.ItemValueInArgSeq=6]="ItemValueInArgSeq",t[t.Fuzzy=7]="Fuzzy",t[t.ComposeOR=8]="ComposeOR",t[t.ComposeAND=9]="ComposeAND",t[t.ComposeNOT=10]="ComposeNOT"}(r||(r={}));var i={"=":r.Equal,"!":r.NotEqual,">":r.GreaterThan,"<":r.LessThan,"~":r.Fuzzy,"?":r.Exists,$:r.ArgValueInItemSeq},o={};o[r.Equal]=function(t,e){return t==e},o[r.NotEqual]=function(t,e){return t!=e},o[r.LessThan]=function(t,e){return t<e},o[r.GreaterThan]=function(t,e){return t>e},o[r.Exists]=function(t,e){return void 0!==t},o[r.ArgValueInItemSeq]=function(t,e){return t.indexOf(e)!=-1},o[r.ItemValueInArgSeq]=function(t,e){return e.indexOf(t)==-1},o[r.Fuzzy]=function(t,e){var n=typeof t;return 0!=e.length&&(void 0!=n&&("string"==n?t.search(e)!=-1:"number"==n&&(""+t).search(e)!=-1))},o[r.ComposeOR]=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],s=i[0],u=i[1];if(o[s].apply(this,[t,u]))return!0}return!1},o[r.ComposeAND]=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],s=i[0],u=i[1];if(0==o[s].apply(this,[t,u]))return!1}return!0};var s=function(t){for(var e=" ",n={'"':'"',"'":"'","(":")","[":"]","`":"`"},r=[],i=[],o=!1,s=null,u=0;u<t.length;u++){var a=t[u];o?a==n[s]?(i.push(a),o=!1,s=null):i.push(a):e.indexOf(a)!=-1?(r.push(i.join("")),i=[]):void 0!=n[a]?(o=!0,s=a,i.push(a)):i.push(a)}return i.length&&r.push(i.join("")),r},u=function(t){return t.search(":")!=-1&&"`"!=t[0]},a=function(t){var e=r.Equal,n=function(t,e){return t.slice(0,e.length)==e};for(var o in i)n(t,o)&&(e=i[o],t=t.slice(o.length));return isNaN(+t)||(t=+t),"t"==t||"true"==t?t=!0:"f"!=t&&"false"!=t||(t=!1),[e,t]},l=function(t){for(var e=[],i=0,s=t;i<s.length;i++){var u=s[i],a=function(t){return function(e){var i=t[0],s=t[1],u=t[2],a=t[3],l=!1;try{var c=u.split("."),h=e;if(1==c.length)h=h[u];else for(var f=0,p=c;f<p.length;f++){var v=p[f];if(void 0==h[v])return!1;h=h[v]}l="function"==typeof h?s==r.Exists||h.apply(e,[a]):"undefined"!=typeof h&&o[s](h,a)}catch(t){console.log("Exception in cond: ",o[s])}return i==n.Include?l:i==n.Exclude?!l:(console.log("UNKNOWN SEARCH TYPE:",i),l)}}(u);e.push(a)}return function(t,n,r){for(var i=0,o=e;i<o.length;i++){var s=o[i];if(0==s(t))return!1}return!0}},c=function(t,e){void 0==e&&(e={});for(var i=e.fuzzy_key||"fuzzy",o=e.macros||{},c=[],h=s(t),f=0,p=h;f<p.length;f++){var v=p[f];if(u(v)){var d=n.Include,g=v[0];"-"==g||"\\"==g?(d=n.Exclude,v=v.slice(1)):"/"!=g&&"+"!=g||(d=n.Include,v=v.slice(1));for(var _=v.split(":"),m=_[0],y=0,b=_.slice(1);y<b.length;y++){var E=b[y];if(E.length>0)if(void 0!=o[m]&&(T=o[m](m,E),m=T[0],E=T[1]),E.search(",")==-1){var q=a(E),I=q[0],S=q[1];c.push([d,I,m,S])}else{var C=r.ComposeOR;"&"==E[0]?(C=r.ComposeAND,E=E.slice(1)):"|"==E[0]&&(C=r.ComposeOR,E=E.slice(1));for(var x=[],z=0,O=E.split(",");z<O.length;z++){var w=O[z],N=a(w),I=N[0],S=N[1];x.push([I,S])}c.push([d,C,m,x])}}}else c.push([n.Include,r.Fuzzy,i,v])}return l(c);var T};e.build_fn=c}]);
//# sourceMappingURL=simplesearch.bundle.js.map